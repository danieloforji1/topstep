# Grid Strategy Configuration
# TopstepX Trading System

# Trading Instruments
primary_instrument: MES
hedge_instrument: MNQ
capital_equiv: 150000  # practice account
target_daily_PL: 500   # baseline, adjustable
max_daily_loss: 900    # safety (Topstep has 1000) - leave buffer
trailing_drawdown_limit: 1800

# Grid Parameters
grid_levels_each_side: 5
atr_window: 14         # ATR on 15m candles by default
atr_multiplier_for_spacing: 0.30  # tighter for aggressive
profit_ticks_per_leg: 0.35  # multiplier of atr_points
hedge_activation_multiplier: 1.3  # mult of spacing to start hedging

# Volatility & Sizing
volatility_window: 100  # for sizer and corr calc
sizer_R_per_trade: 150  # $ risk per new base lot
max_net_notional: 1200  # in $ equivalent to cap exposure

# Timing
recalc_interval_seconds: 45  # recalc ATR/hedge every 45 seconds
session_close_safety_margin_minutes: 5

# TopstepX API Configuration
api_base_url: https://api.topstepx.com
user_hub_url: https://rtc.topstepx.com/hubs/user
market_hub_url: https://rtc.topstepx.com/hubs/market

# Risk Management
hedge_ratio_min: 0.5
hedge_ratio_max: 1.25
correlation_threshold: 0.6  # below this, reduce hedge
max_hedge_contracts_multiplier: 1.25  # Max hedge contracts = primary Ã— this (safety limit). Set to 1.25 to never exceed primary position

# Observability
metrics_port: 8000
log_level: INFO

# Trading Mode
dry_run: false  # Set to false for live trading (requires explicit enable)

# Account Selection
prefer_practice_account: true  # Prefer practice/simulated accounts over live
account_id: null  # Optional: specify account ID directly (overrides auto-selection)

