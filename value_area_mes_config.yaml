# Value Area MES Strategy Configuration

# Instrument
instrument: MES
tick_size: 0.25
tick_value: 1.25
contracts: 1

# Data/polling
fast_interval: "1m"
slow_interval: "5m"
poll_interval_seconds: 5

# Value area construction
value_area_percent: 0.70

# Rejection setup
rejection_excursion_ticks: 3
rejection_confirm_ticks: 1
rejection_state_ttl_minutes: 20

# Acceptance setup
acceptance_closes_required: 2
acceptance_break_ticks: 1
acceptance_volume_multiplier: 1.1
acceptance_volume_lookback: 20
acceptance_retest_required: true
acceptance_retest_tolerance_ticks: 2
acceptance_retest_lookback_bars: 15
max_acceptance_entries_per_hour_per_side: 1
max_acceptance_entries_per_session_per_side: 3

# Trade management
stop_ticks: 12
target_rr: 1.2
min_target_ticks: 8

# Funded-account safety controls
max_trades_per_day: 4
max_daily_loss: 900
max_consecutive_losses: 3
cooldown_after_loss_minutes: 20
post_exit_cooldown_bars: 2
flatten_on_start: true
heartbeat_log_interval_seconds: 45

# Session controls (ET)
session_timezone: America/New_York
rth_start: "09:30"
rth_end: "16:00"
trade_start: "09:35"
trade_end: "15:30"
force_flatten_time: "15:55"

# TopstepX API Configuration
api_base_url: https://api.topstepx.com
user_hub_url: https://rtc.topstepx.com/hubs/user
market_hub_url: https://rtc.topstepx.com/hubs/market

# Risk Manager limits
trailing_drawdown_limit: 1800
max_net_notional: 15000000

# Trading mode
dry_run: true

# Account Selection
prefer_practice_account: true
account_id: null
